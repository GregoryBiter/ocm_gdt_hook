{{ header }}{{ column_left }}
<div id="content">
  <div class="page-header">
    <div class="container-fluid">
      <div class="float-end">
        <a href="{{ refresh_url }}" data-bs-toggle="tooltip" title="Refresh Hooks" class="btn btn-warning">
          <i class="fa-solid fa-rotate"></i>
        </a>
      </div>
      <h1>Hooks Manager</h1>
      <ul class="breadcrumb">
        {% for breadcrumb in breadcrumbs %}
        <li class="breadcrumb-item"><a href="{{ breadcrumb.href }}">{{ breadcrumb.text }}</a></li>
        {% endfor %}
      </ul>
    </div>
  </div>
  <div class="container-fluid">
    <div class="card">
      <div class="card-header">
        <i class="fa-solid fa-list"></i> Loaded Hooks
      </div>
      <div class="card-body">
        <div class="table-responsive">
          <table class="table table-bordered table-hover">
            <thead>
              <tr>
                <td class="text-start">Name</td>
                <td class="text-start">Description</td>
                <td class="text-start">Version</td>
                <td class="text-start">Author</td>
                <td class="text-start">Context</td>
                <td class="text-center">Status</td>
                <td class="text-end">Action</td>
              </tr>
            </thead>
            <tbody>
              {% for hook in hooks %}
              <tr>
                <td class="text-start">
                  <strong>{{ hook.name }}</strong>
                  <br><small class="text-muted">{{ hook.controller }}</small>
                </td>
                <td class="text-start">{{ hook.description }}</td>
                <td class="text-start">{{ hook.version }}</td>
                <td class="text-start">{{ hook.author }}</td>
                <td class="text-start">
                  <span class="badge bg-{{ hook.context == 'admin' ? 'primary' : 'success' }}">
                    {{ hook.context|title }}
                  </span>
                </td>
                <td class="text-center">
                  {% if hook.status == 'Enabled' %}
                    <span class="badge bg-success">{{ hook.status }}</span>
                  {% else %}
                    <span class="badge bg-danger">{{ hook.status }}</span>
                  {% endif %}
                </td>
                <td class="text-end">
                  <a href="{{ toggle_url }}&hook={{ hook.name }}" 
                     class="btn btn-sm btn-{{ hook.status == 'Enabled' ? 'danger' : 'success' }}"
                     data-bs-toggle="tooltip" 
                     title="{{ hook.status == 'Enabled' ? 'Disable' : 'Enable' }}">
                    <i class="fa-solid fa-{{ hook.status == 'Enabled' ? 'times' : 'check' }}"></i>
                  </a>
                </td>
              </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>
      </div>
    </div>
    
    <div class="card mt-3">
      <div class="card-header">
        <i class="fa-solid fa-info-circle"></i> Hook System Information
      </div>
      <div class="card-body">
        <div class="row">
          <div class="col-md-6">
            <h5>Hook Directories:</h5>
            <ul>
              <li><code>admin/controller/hook/</code> - Admin hooks</li>
              <li><code>catalog/controller/hook/</code> - Catalog hooks</li>
            </ul>
          </div>
          <div class="col-md-6">
            <h5>Hook Structure:</h5>
            <pre><code>class ControllerHookModuleName extends HookController {
    public function boot() {
        Hook::add_filter('hook_name', $callback);
        Hook::add_action('hook_name', $callback);
    }
}</code></pre>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
{{ footer }}
