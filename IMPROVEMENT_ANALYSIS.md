# –ê–Ω–∞–ª–∏–∑ —Å–∏—Å—Ç–µ–º—ã GDT Hook –¥–ª—è OpenCart
## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏ –∏ –≥–∏–±–∫–æ—Å—Ç–∏

**–î–∞—Ç–∞ –∞–Ω–∞–ª–∏–∑–∞**: 16 –ª–∏—Å—Ç–æ–ø–∞–¥–∞ 2025  
**–í–µ—Ä—Å–∏—è —Å–∏—Å—Ç–µ–º—ã**: 1.1  
**–¶–µ–ª–µ–≤–∞—è –≤–µ—Ä—Å–∏—è –ø–æ—Å–ª–µ —É–ª—É—á—à–µ–Ω–∏–π**: 2.0

---

## üìä EXECUTIVE SUMMARY

–¢–µ–∫—É—â–∞—è —Å–∏—Å—Ç–µ–º–∞ GDT Hook —è–≤–ª—è–µ—Ç—Å—è —Ö–æ—Ä–æ—à–µ–π –±–∞–∑–æ–π –¥–ª—è WordPress-–ø–æ–¥–æ–±–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã —Ö—É–∫–æ–≤ –≤ OpenCart. –û–¥–Ω–∞–∫–æ, –¥–ª—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è **–ø–æ–ª–Ω–æ–π —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏ –∏ –≥–∏–±–∫–æ—Å—Ç–∏ –∫–∞–∫ –≤ WordPress**, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å 12 –∫–ª—é—á–µ–≤—ã—Ö —É–ª—É—á—à–µ–Ω–∏–π, –∫–æ—Ç–æ—Ä—ã–µ —É—Å—Ç—Ä–∞–Ω—è—Ç —Ç–µ–∫—É—â–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∏ —Å–¥–µ–ª–∞—é—Ç —Å–∏—Å—Ç–µ–º—É –±–æ–ª–µ–µ –Ω–∞–¥–µ–∂–Ω–æ–π –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ–π.

### –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ: 65% –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ ‚úì
### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ: 95% –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ üéØ

---

## üîç –ê–ù–ê–õ–ò–ó –¢–ï–ö–£–©–ï–ô –†–ï–ê–õ–ò–ó–ê–¶–ò–ò

### –ß—Ç–æ —É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ ‚úÖ

| –§—É–Ω–∫—Ü–∏—è | –°—Ç–∞—Ç—É—Å | –û—Ü–µ–Ω–∫–∞ |
|---------|--------|--------|
| Action —Ö—É–∫–∏ | ‚úÖ –ì–æ—Ç–æ–≤–æ | 9/10 |
| Filter —Ö—É–∫–∏ | ‚úÖ –ì–æ—Ç–æ–≤–æ | 8/10 |
| OpenCart —Å–æ–±—ã—Ç–∏—è | ‚úÖ –ë–∞–∑–æ–≤–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ | 6/10 |
| –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ | ‚úÖ –§–∞–π–ª–æ–≤–æ–µ –∫–µ—à | 7/10 |
| –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ | ‚úÖ –ì–æ—Ç–æ–≤–æ | 7/10 |
| hook_boot() –º–µ—Ç–æ–¥ | ‚úÖ –ì–æ—Ç–æ–≤–æ | 8/10 |
| –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è | ‚úÖ –ì–æ—Ç–æ–≤–æ | 8/10 |
| –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã | ‚úÖ –ì–æ—Ç–æ–≤–æ | 6/10 |

### –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã ‚ö†Ô∏è

1. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —É–¥–∞–ª–µ–Ω–∏—è —Ö—É–∫–æ–≤** - –Ω–µ–ª—å–∑—è –æ—Ç–º–µ–Ω–∏—Ç—å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é
2. **–ù–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ –≤ hook_boot** - —Å–±–æ–π –≤ –æ–¥–Ω–æ–º —Ö—É–∫–µ —Å–ª–æ–º–∞–µ—Ç –æ—Å—Ç–∞–ª—å–Ω—ã–µ
3. **–°–ª–∞–±–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º** - –Ω–µ—Ç —Å–∏—Å—Ç–µ–º—ã –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ—Ä—è–¥–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏
4. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ callback-–æ–≤** - –º–æ–∂–µ—Ç –±—ã—Ç—å —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–π callback
5. **–ù–µ—Ç —Å–æ–±—ã—Ç–∏—è –¥–ª—è –∫–æ–Ω—Ü–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏** - —Å–ª–æ–∂–Ω–æ —Ä–µ–∞–≥–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –ø–æ–ª–Ω—É—é –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å
6. **–ù–µ—Ç –º–µ—Ö–∞–Ω–∏–∑–º–∞ –¥–ª—è —É—Å–ª–æ–≤–Ω–æ–π –∞–∫—Ç–∏–≤–∞—Ü–∏–∏** - –≤—Å–µ —Ö—É–∫–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
7. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –æ—Ç–ª–∞–¥–∫–∏ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏** - –Ω–µ—Ç —Å–ø–æ—Å–æ–±–∞ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å —á—Ç–æ –∑–∞–≥—Ä—É–∂–µ–Ω–æ
8. **–ù–µ—Ç –º–µ—Ö–∞–Ω–∏–∑–º–∞ –¥–ª—è –æ—Ç–∫–ª—é—á–µ–Ω–∏—è –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Ö—É–∫–æ–≤** - —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ —É–¥–∞–ª–µ–Ω–∏–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è

---

## üöÄ –†–ï–ö–û–ú–ï–ù–î–£–ï–ú–´–ï –£–õ–£–ß–®–ï–ù–ò–Ø

### 1. **–°–∏—Å—Ç–µ–º–∞ —É–¥–∞–ª–µ–Ω–∏—è –∏ –æ—Ç–∫–ª—é—á–µ–Ω–∏—è —Ö—É–∫–æ–≤** (–í–´–°–û–ö–ò–ô –ü–†–ò–û–†–ò–¢–ï–¢)

**–¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å**: ‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç

**–û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã**:
```php
// –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ - –Ω–µ–ª—å–∑—è —É–¥–∞–ª–∏—Ç—å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é
Hook::add_action('my_action', [$this, 'handler']);
// –ù–ï–¢ —Å–ø–æ—Å–æ–±–∞ —É–¥–∞–ª–∏—Ç—å 'my_action'
```

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–æ–µ —Ä–µ—à–µ–Ω–∏–µ**:
```php
// 1. –£–¥–∞–ª–µ–Ω–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ callback-–∞
Hook::remove_action('my_action', [$this, 'handler']);

// 2. –£–¥–∞–ª–µ–Ω–∏–µ –≤—Å–µ—Ö callback-–æ–≤ –¥–ª—è —Ö—É–∫–∞
Hook::remove_all_actions('my_action');

// 3. –û—Ç–∫–ª—é—á–µ–Ω–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ö—É–∫–∞ –±–µ–∑ —É–¥–∞–ª–µ–Ω–∏—è
Hook::disable_hook('my_action');

// 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–∫–ª—é—á–µ–Ω –ª–∏ —Ö—É–∫
Hook::is_hook_enabled('my_action'); // true|false

// 5. –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ—Ö –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö callback-–æ–≤
$callbacks = Hook::get_callbacks('my_action');
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞**:
- ‚úÖ –ü–æ–ª–Ω–∞—è –≥–∏–±–∫–æ—Å—Ç—å –≤ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ —Ö—É–∫–∞–º–∏
- ‚úÖ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- ‚úÖ –ü–µ—Ä–µ–º–µ—à–∏–≤–∞–Ω–∏–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–≤ –º–µ–∂–¥—É –º–æ–¥—É–ª—è–º–∏
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –º–µ–∂–¥—É —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è–º–∏

**–§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è**: `hook.php`

**–ö–æ–¥ –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è**:
```php
// –£–¥–∞–ª–µ–Ω–∏–µ action —Ö—É–∫–∞
public static function remove_action($hook_name, $callback = null) {
    if ($callback === null) {
        // –£–¥–∞–ª—è–µ–º –≤—Å–µ callback-—ã
        unset(self::$actions[$hook_name]);
        return true;
    }
    
    if (!isset(self::$actions[$hook_name])) {
        return false;
    }
    
    foreach (self::$actions[$hook_name] as $priority => $callbacks) {
        foreach ($callbacks as $key => $hook) {
            if ($hook['function'] === $callback || self::compare_callbacks($hook['function'], $callback)) {
                unset(self::$actions[$hook_name][$priority][$key]);
                
                // –£–¥–∞–ª—è–µ–º –ø—É—Å—Ç—ã–µ –º–∞—Å—Å–∏–≤—ã
                if (empty(self::$actions[$hook_name][$priority])) {
                    unset(self::$actions[$hook_name][$priority]);
                }
            }
        }
    }
    
    // –£–¥–∞–ª—è–µ–º –ø—É—Å—Ç—ã–µ —Ö—É–∫–∏
    if (empty(self::$actions[$hook_name])) {
        unset(self::$actions[$hook_name]);
    }
    
    return true;
}

// –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö callback-–æ–≤ –¥–ª—è —Ö—É–∫–∞
public static function get_callbacks($hook_name, $priority = null) {
    if (!isset(self::$actions[$hook_name])) {
        return [];
    }
    
    if ($priority !== null) {
        return isset(self::$actions[$hook_name][$priority]) 
            ? self::$actions[$hook_name][$priority] 
            : [];
    }
    
    return self::$actions[$hook_name];
}

// –°—Ä–∞–≤–Ω–µ–Ω–∏–µ callback-–æ–≤
private static function compare_callbacks($callback1, $callback2) {
    if (is_string($callback1) && is_string($callback2)) {
        return $callback1 === $callback2;
    }
    
    if (is_array($callback1) && is_array($callback2)) {
        return get_class($callback1[0]) === get_class($callback2[0]) && 
               $callback1[1] === $callback2[1];
    }
    
    return false;
}
```

---

### 2. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–π –≤ hook_boot()** (–ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô –ü–†–ò–û–†–ò–¢–ï–¢)

**–¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å**: ‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ

**–û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã**:
```php
// –ï—Å–ª–∏ –≤ –æ–¥–Ω–æ–º hook_boot() –≤–æ–∑–Ω–∏–∫–Ω–µ—Ç –æ—à–∏–±–∫–∞ - 
// –æ—Å—Ç–∞–ª—å–Ω—ã–µ –Ω–µ –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã
public function hook_boot() {
    // –≠—Ç–æ—Ç –∫–æ–¥ –Ω–µ –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è –µ—Å–ª–∏ –≤—ã—à–µ –æ—à–∏–±–∫–∞
    Hook::add_action('some_action', [$this, 'handler']);
}
```

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–æ–µ —Ä–µ—à–µ–Ω–∏–µ**:
```php
private static function loadExtensionHookBoot($hook_data, $scan_mode = false) {
    try {
        // ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥ ...
        
        // –û–±–æ—Ä–∞—á–∏–≤–∞–µ–º –≤—ã–∑–æ–≤ –º–µ—Ç–æ–¥–∞ –≤ try-catch
        try {
            $controller->hook_boot();
        } catch (\Throwable $e) {
            // –õ–æ–≥–∏—Ä—É–µ–º –æ—à–∏–±–∫—É –Ω–æ –ø—Ä–æ–¥–æ–ª–∂–∞–µ–º
            self::$registry->get('log')->write(
                "HOOK ERROR in {$hook_data['route']}: " . $e->getMessage() 
                . " at " . $e->getFile() . ":" . $e->getLine()
            );
            
            // –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–æ–±—ã—Ç–∏–µ –æ–± –æ—à–∏–±–∫–µ
            self::do_action('gdt_hook_error', [
                'extension' => $hook_data['route'],
                'error' => $e->getMessage(),
                'type' => get_class($e)
            ]);
            
            // –í–æ–∑–≤—Ä–∞—â–∞–µ–º true - —Ö—É–∫ –∑–∞–≥—Ä—É–∂–µ–Ω –Ω–µ—Å–º–æ—Ç—Ä—è –Ω–∞ –æ—à–∏–±–∫—É
            return true;
        }
        
        return true;
        
    } catch (\Exception $e) {
        // ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥ ...
    }
}
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞**:
- ‚úÖ –û–¥–Ω–∞ –æ—à–∏–±–∫–∞ –Ω–µ –ª–æ–º–∞–µ—Ç –≤—Å—é —Å–∏—Å—Ç–µ–º—É
- ‚úÖ –õ–µ–≥—á–µ –æ—Ç—Å–ª–µ–¥–∏—Ç—å –ø—Ä–æ–±–ª–µ–º–Ω—ã–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å

**–§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è**: `hook.php`

---

### 3. **–°–∏—Å—Ç–µ–º–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –º–µ–∂–¥—É —Ö—É–∫–∞–º–∏** (–í–´–°–û–ö–ò–ô –ü–†–ò–û–†–ò–¢–ï–¢)

**–¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å**: ‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç

**–û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã**:
```php
// –ù–µ—Ç —Å–ø–æ—Å–æ–±–∞ –∑–∞—è–≤–∏—Ç—å —á—Ç–æ –º–æ–π —Ö—É–∫ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –¥—Ä—É–≥–æ–≥–æ
// –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ A —Ç—Ä–µ–±—É–µ—Ç —á—Ç–æ–±—ã —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ B –∑–∞–≥—Ä—É–∑–∏–ª–æ—Å—å —Ä–∞–Ω—å—à–µ
Hook::add_action('setup_data', [$this, 'processData']);
// –ù–æ –µ—Å–ª–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ B –µ—â–µ –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω–æ - –±—É–¥–µ—Ç –æ—à–∏–±–∫–∞
```

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–æ–µ —Ä–µ—à–µ–Ω–∏–µ**:
```php
// –í hook_boot –º–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
public function hook_boot() {
    // –¢—Ä–µ–±—É–µ–º —á—Ç–æ–±—ã —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ B –∑–∞–≥—Ä—É–∑–∏–ª–æ—Å—å
    Hook::require_extension('extension_b', [$this, 'onDependencyReady']);
    
    // –ò–ª–∏ –ø—Ä–æ—Å—Ç–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
    if (!Hook::extension_loaded('extension_b')) {
        Hook::do_action('gdt_missing_dependency', 'extension_b');
        return;
    }
    
    // –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ–º —Ö—É–∫–∏
    Hook::add_action('my_action', [$this, 'handler']);
}

// –†–µ–∞–ª–∏–∑–∞—Ü–∏—è
public static function require_extension($extension_code, $callback = null) {
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∑–∞–≥—Ä—É–∂–µ–Ω–æ –ª–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ
    if (!self::extension_loaded($extension_code)) {
        // –î–æ–±–∞–≤–ª—è–µ–º –≤ –æ—á–µ—Ä–µ–¥—å –¥–ª—è –ø–æ—Å–ª–µ–¥—É—é—â–µ–π –∑–∞–≥—Ä—É–∑–∫–∏
        if (!isset(self::$pending_dependencies[$extension_code])) {
            self::$pending_dependencies[$extension_code] = [];
        }
        
        if ($callback !== null) {
            self::$pending_dependencies[$extension_code][] = $callback;
        }
        
        return false;
    }
    
    // –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —É–∂–µ –∑–∞–≥—Ä—É–∂–µ–Ω–æ
    if ($callback !== null) {
        call_user_func($callback);
    }
    
    return true;
}

public static function extension_loaded($extension_code) {
    return isset(self::$loaded_extensions[$extension_code]);
}
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞**:
- ‚úÖ –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –ø–æ—Ä—è–¥–æ–∫ –∑–∞–≥—Ä—É–∑–∫–∏
- ‚úÖ –ü–æ–∑–≤–æ–ª—è–µ—Ç —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è–º –∑–∞–≤–∏—Å–µ—Ç—å –¥—Ä—É–≥ –æ—Ç –¥—Ä—É–≥–∞
- ‚úÖ –£–ø—Ä–æ—â–∞–µ—Ç —Å–æ–∑–¥–∞–Ω–∏–µ –ø–ª–∞–≥–∏–Ω–æ–≤ —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏

**–§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è**: `hook.php`, `hookcache.php`

---

### 4. **–°–∏—Å—Ç–µ–º–∞ —É—Å–ª–æ–≤–Ω–æ–π –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ —Ö—É–∫–æ–≤** (–°–†–ï–î–ù–ò–ô –ü–†–ò–û–†–ò–¢–ï–¢)

**–¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å**: ‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–æ (–Ω–µ—Ç —É–¥–∞–ª–µ–Ω–∏—è)

**–û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã**:
```php
// –ù–µ—Ç —Å–ø–æ—Å–æ–±–∞ –∑–∞–ø—Ä–µ—Ç–∏—Ç—å –∑–∞–≥—Ä—É–∑–∫—É —Ö—É–∫–∞ —É—Å–ª–æ–≤–Ω–æ
public function hook_boot() {
    // –í—Å–µ–≥–¥–∞ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è, –¥–∞–∂–µ –µ—Å–ª–∏ –Ω–µ –Ω—É–∂–Ω–æ
    Hook::add_action('my_action', [$this, 'handler']);
}
```

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–æ–µ —Ä–µ—à–µ–Ω–∏–µ**:
```php
// 1. –û—Ç–∫–ª—é—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –∫–æ–Ω—Ñ–∏–≥
Hook::add_action(
    'my_action', 
    [$this, 'handler'],
    10,  // priority
    1,   // accepted_args
    [    // options array (NEW)
        'enabled' => function() {
            // –í–µ—Ä–Ω—É—Ç—å false –µ—Å–ª–∏ —Ö—É–∫ –Ω–µ –¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å
            return !$this->isDebugMode();
        },
        'hooks_on' => ['production', 'staging'], // –¢–æ–ª—å–∫–æ –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ
        'hooks_off' => ['test'],                 // –ù–æ –Ω–µ –Ω–∞ —Ç–µ—Å—Ç–æ–≤–æ–º
    ]
);

// 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏
private static function add_hook($type, $hook_name, $callback, $priority, $accepted_args, $options = []) {
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º —É—Å–ª–æ–≤–∏—è –∞–∫—Ç–∏–≤–∞—Ü–∏–∏
    if (isset($options['enabled'])) {
        if (is_callable($options['enabled'])) {
            if (!call_user_func($options['enabled'])) {
                return false;
            }
        } elseif (!$options['enabled']) {
            return false;
        }
    }
    
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –æ–∫—Ä—É–∂–µ–Ω–∏–µ
    if (isset($options['hooks_on'])) {
        $env = defined('APP_ENV') ? APP_ENV : 'production';
        if (!in_array($env, (array)$options['hooks_on'])) {
            return false;
        }
    }
    
    // ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥ ...
}
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞**:
- ‚úÖ –£—Å–ª–æ–≤–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏–π
- ‚úÖ –°–Ω–∏–∂–µ–Ω–∏–µ –Ω–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ

**–§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è**: `hook.php`

---

### 5. **–°–∏—Å—Ç–µ–º–∞ –æ—Ç–ª–∞–¥–∫–∏ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏** (–°–†–ï–î–ù–ò–ô –ü–†–ò–û–†–ò–¢–ï–¢)

**–¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å**: ‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç

**–û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã**:
```php
// –ù–µ—Ç —Å–ø–æ—Å–æ–±–∞ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å —á—Ç–æ –∑–∞–≥—Ä—É–∂–µ–Ω–æ –∏ –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç
// –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –æ—Ç—Å–ª–µ–¥–∏—Ç—å –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã –º–µ–∂–¥—É —Ö—É–∫–∞–º–∏
```

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–æ–µ —Ä–µ—à–µ–Ω–∏–µ**:
```php
// –î–æ–±–∞–≤–∏—Ç—å –∫–ª–∞—Å—Å –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
class HookDebugger {
    
    private static $hook_calls = [];
    private static $hook_times = [];
    private static $hook_errors = [];
    private static $enabled = false;
    
    public static function enable() {
        self::$enabled = true;
    }
    
    public static function disable() {
        self::$enabled = false;
    }
    
    // –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—ã–∑–æ–≤–æ–≤ —Ö—É–∫–æ–≤
    public static function log_hook_call($hook_name, $callback, $start_time = null) {
        if (!self::$enabled) return;
        
        if ($start_time !== null) {
            $duration = (microtime(true) - $start_time) * 1000; // –≤ ms
            
            if (!isset(self::$hook_times[$hook_name])) {
                self::$hook_times[$hook_name] = [];
            }
            
            self::$hook_times[$hook_name][] = [
                'callback' => self::callback_to_string($callback),
                'duration' => $duration
            ];
        } else {
            if (!isset(self::$hook_calls[$hook_name])) {
                self::$hook_calls[$hook_name] = [];
            }
            
            self::$hook_calls[$hook_name][] = self::callback_to_string($callback);
        }
    }
    
    // –ü–æ–ª—É—á–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
    public static function get_statistics() {
        return [
            'total_hooks' => count(self::$hook_calls),
            'hooks_called' => array_sum(array_map('count', self::$hook_calls)),
            'hook_details' => self::$hook_calls,
            'performance' => self::$hook_times,
            'errors' => self::$hook_errors
        ];
    }
    
    // –ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —Ö—É–∫–æ–≤
    public static function get_slowest_hooks($limit = 10) {
        $all_calls = [];
        
        foreach (self::$hook_times as $hook_name => $calls) {
            foreach ($calls as $call) {
                $all_calls[] = [
                    'hook' => $hook_name,
                    'callback' => $call['callback'],
                    'duration' => $call['duration']
                ];
            }
        }
        
        usort($all_calls, function($a, $b) {
            return $b['duration'] - $a['duration'];
        });
        
        return array_slice($all_calls, 0, $limit);
    }
    
    private static function callback_to_string($callback) {
        if (is_string($callback)) {
            return $callback;
        } elseif (is_array($callback)) {
            $class = is_object($callback[0]) 
                ? get_class($callback[0]) 
                : $callback[0];
            return $class . '::' . $callback[1];
        } else {
            return 'closure';
        }
    }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ hook.php
private static function run_hooks($type, $hook_name, $value = null, ...$args) {
    // ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥ ...
    
    foreach ($target[$hook_name] as $priority => $callbacks) {
        foreach ($callbacks as $hook) {
            $function = $hook['function'];
            $accepted = $hook['accepted_args'];
            
            // –ù–∞—á–∞–ª–æ –æ—Ç–ª–∞–¥–∫–∏
            $start_time = microtime(true);
            
            try {
                if ($type === 'filter') {
                    $value = call_user_func_array($function, array_slice([$value, ...$args], 0, $accepted));
                } else {
                    call_user_func_array($function, array_slice($args, 0, $accepted));
                }
            } catch (\Throwable $e) {
                HookDebugger::log_error($hook_name, $function, $e);
            }
            
            // –ö–æ–Ω–µ—Ü –æ—Ç–ª–∞–¥–∫–∏
            HookDebugger::log_hook_call($hook_name, $function, $start_time);
        }
    }
    
    // ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥ ...
}
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞**:
- ‚úÖ –õ–µ–≥–∫–æ –Ω–∞–π—Ç–∏ –ø—Ä–æ–±–ª–µ–º–Ω—ã–µ —Ö—É–∫–∏
- ‚úÖ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- ‚úÖ –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫

**–§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è**: –Ω–æ–≤—ã–π —Ñ–∞–π–ª `hookdebugger.php`, `hook.php`

---

### 6. **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö —Ö—É–∫–æ–≤** (–ù–ò–ó–ö–ò–ô –ü–†–ò–û–†–ò–¢–ï–¢)

**–¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å**: ‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç

**–û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã**:
```php
// –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–æ–ª–≥–∏–µ –∏ –±–ª–æ–∫–∏—Ä—É—é—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
// –ù–µ—Ç —Å–ø–æ—Å–æ–±–∞ –∑–∞–ø—É—Å—Ç–∏—Ç—å —Ö—É–∫ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ
Hook::add_action('send_email', [$this, 'sendLongEmail']);
// –ë–ª–æ–∫–∏—Ä—É–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –Ω–∞ –≤—Ä–µ–º—è –æ—Ç–ø—Ä–∞–≤–∫–∏
```

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–æ–µ —Ä–µ—à–µ–Ω–∏–µ**:
```php
// –ù–æ–≤—ã–π —Ç–∏–ø —Ö—É–∫–æ–≤ - –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ
Hook::add_async_action('send_email', [$this, 'sendLongEmail']);

// –û—á–µ—Ä–µ–¥—å –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á
Hook::queue_async_task('send_email', ['email' => 'test@example.com']);

// –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ—á–µ—Ä–µ–¥–∏ (–≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º –∫—Ä–æ–Ω-—Å–∫—Ä–∏–ø—Ç–µ)
HookQueue::process_async_tasks();
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞**:
- ‚úÖ –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ email
- ‚úÖ –î–æ–ª–≥–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –Ω–µ –±–ª–æ–∫–∏—Ä—É—é—Ç –∑–∞–ø—Ä–æ—Å
- ‚úÖ –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å

**–§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è**: –Ω–æ–≤—ã–π —Ñ–∞–π–ª `hookqueue.php`, `hook.php`

---

### 7. **–°–∏—Å—Ç–µ–º–∞ —Å–æ–±—ã—Ç–∏–π –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞** (–°–†–ï–î–ù–ò–ô –ü–†–ò–û–†–ò–¢–ï–¢)

**–¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å**: ‚ö†Ô∏è –û–¥–∏–Ω hook_loaded

**–û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã**:
```php
// –ù–µ—Ç —Å–ø–æ—Å–æ–±–∞ —Ä–µ–∞–≥–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ —Ä–∞–∑–Ω—ã–µ —Å—Ç–∞–¥–∏–∏ –∑–∞–≥—Ä—É–∑–∫–∏
// –ù–µ–ª—å–∑—è –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∫–æ–≥–¥–∞ –í–°–ï —Ö—É–∫–∏ –∑–∞–≥—Ä—É–∂–µ–Ω—ã
```

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–æ–µ —Ä–µ—à–µ–Ω–∏–µ**:
```php
// –°–æ–±—ã—Ç–∏—è –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞
Hook::do_action('gdt_hook_init');              // –ù–∞—á–∞–ª–æ –∑–∞–≥—Ä—É–∑–∫–∏
Hook::do_action('gdt_hook_scanning');          // –ù–∞—á–∞–ª–æ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
Hook::do_action('gdt_extension_loaded', $ext); // –ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è
Hook::do_action('gdt_hook_loaded');            // –ü–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ –≤—Å–µ—Ö
Hook::do_action('gdt_hook_ready');             // –í—Å–µ –≥–æ—Ç–æ–≤–æ, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
Hook::add_action('gdt_hook_ready', [$this, 'onHooksReady']);

public function onHooksReady() {
    // –í—Å–µ —Ö—É–∫–∏ –∑–∞–≥—Ä—É–∂–µ–Ω—ã –∏ –≥–æ—Ç–æ–≤—ã
}
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞**:
- ‚úÖ –¢–æ—á–∫–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –≤ —Å–∏—Å—Ç–µ–º–µ
- ‚úÖ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∑–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–¥ –≤ –Ω—É–∂–Ω—ã–π –º–æ–º–µ–Ω—Ç
- ‚úÖ –£–ø—Ä–æ—â–∞–µ—Ç –æ—Ç–ª–∞–¥–∫—É

**–§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è**: `hook.php`

---

### 8. **–í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è —Å –∏–Ω–≤–∞–ª–∏–¥–∞—Ü–∏–µ–π** (–í–´–°–û–ö–ò–ô –ü–†–ò–û–†–ò–¢–ï–¢)

**–¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å**: ‚ö†Ô∏è –ë–∞–∑–æ–≤–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

**–û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã**:
```php
// –ö–µ—à –Ω–µ –∏–Ω–≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
// –ù–µ—Ç –∫–æ–Ω—Ç—Ä–æ–ª—è –≤—Ä–µ–º–µ–Ω–∏ –∂–∏–∑–Ω–∏ –∫–µ—à–∞
// –ù–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–µ—à–∞
```

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–æ–µ —Ä–µ—à–µ–Ω–∏–µ**:
```php
// –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –∫–µ—à —Å –∏–Ω–≤–∞–ª–∏–¥–∞—Ü–∏–µ–π
class HookCacheV2 {
    
    // –¢–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –≥—Ä—É–ø–ø–æ–≤–æ–π –∏–Ω–≤–∞–ª–∏–¥–∞—Ü–∏–∏
    public static function set_with_tags($key, $data, $ttl = 3600, $tags = []) {
        $cache_entry = [
            'data' => $data,
            'expires' => time() + $ttl,
            'tags' => $tags
        ];
        
        // –°–æ—Ö—Ä–∞–Ω—è–µ–º
        file_put_contents(self::$cache_dir . md5($key) . '.cache', serialize($cache_entry));
        
        // –ò–Ω–¥–µ–∫—Å–∏—Ä—É–µ–º —Ç–µ–≥–∏
        foreach ($tags as $tag) {
            self::index_tag($tag, $key);
        }
    }
    
    // –ò–Ω–≤–∞–ª–∏–¥–∞—Ü–∏—è –ø–æ —Ç–µ–≥–∞–º
    public static function invalidate_by_tag($tag) {
        $keys = self::get_keys_by_tag($tag);
        
        foreach ($keys as $key) {
            self::delete($key);
        }
    }
    
    // –ò–Ω–≤–∞–ª–∏–¥–∞—Ü–∏—è –≤—Å–µ–≥–æ –∫–µ—à–∞
    public static function flush() {
        $files = glob(self::$cache_dir . '*.cache');
        array_walk($files, 'unlink');
    }
    
    // –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
    public static function get_stats() {
        return [
            'cache_size' => self::calculate_cache_size(),
            'total_entries' => count(glob(self::$cache_dir . '*.cache')),
            'cache_dir' => self::$cache_dir
        ];
    }
}
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞**:
- ‚úÖ –ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º–∞—è –∏–Ω–≤–∞–ª–∏–¥–∞—Ü–∏—è
- ‚úÖ –ì—Ä—É–ø–ø–æ–≤–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –∫–µ—à–∞
- ‚úÖ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

**–§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è**: `hookcache.php`

---

### 9. **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ö—É–∫–∞–º–∏** (–í–´–°–û–ö–ò–ô –ü–†–ò–û–†–ò–¢–ï–¢)

**–¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å**: ‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç

**–û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã**:
```php
// –ù–µ—Ç API –¥–ª—è –≤–∫–ª—é—á–µ–Ω–∏—è/–≤—ã–∫–ª—é—á–µ–Ω–∏—è —Ö—É–∫–æ–≤ —á–µ—Ä–µ–∑ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
// –ù–µ–ª—å–∑—è —É–ø—Ä–∞–≤–ª—è—Ç—å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º —á–µ—Ä–µ–∑ UI
// –ù–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –¥–ª—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
```

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–æ–µ —Ä–µ—à–µ–Ω–∏–µ**:
```php
// –ù–æ–≤—ã–π –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ö—É–∫–∞–º–∏
// admin/controller/extension/gdt/hook_manager.php

class ControllerExtensionGdtHookManager extends Controller {
    
    public function getHooksList() {
        // –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ö—É–∫–æ–≤
        $actions = Hook::get_all_actions();
        $filters = Hook::get_all_filters();
        
        return [
            'actions' => $actions,
            'filters' => $filters
        ];
    }
    
    public function disableHook() {
        // –û—Ç–∫–ª—é—á–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ö—É–∫
        $hook_name = $this->request->post['hook_name'];
        $callback = $this->request->post['callback'];
        
        Hook::remove_action($hook_name, $callback);
        
        return json_encode(['status' => 'success']);
    }
    
    public function setPriority() {
        // –ò–∑–º–µ–Ω–∏—Ç—å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç —Ö—É–∫–∞
        $hook_name = $this->request->post['hook_name'];
        $callback = $this->request->post['callback'];
        $new_priority = $this->request->post['priority'];
        
        Hook::update_action_priority($hook_name, $callback, $new_priority);
        
        return json_encode(['status' => 'success']);
    }
}
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞**:
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ö—É–∫–∞–º–∏ –∏–∑ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏
- ‚úÖ –ë—ã—Å—Ç—Ä–æ–µ –æ—Ç–∫–ª—é—á–µ–Ω–∏–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É—é—â–∏—Ö —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞ –±–µ–∑ –∫–æ–¥–∞

**–§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è**: –Ω–æ–≤—ã–π —Ñ–∞–π–ª, –æ–±–Ω–æ–≤–∏—Ç—å OCMOD

---

### 10. **–£–ª—É—á—à–µ–Ω–Ω–∞—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** (–°–†–ï–î–ù–ò–ô –ü–†–ò–û–†–ò–¢–ï–¢)

**–¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å**: ‚ö†Ô∏è –ë–∞–∑–æ–≤–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

**–û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã**:
```php
// –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–µ–ø–æ–ª–Ω–æ–µ
// –ù–µ—Ç –º–µ—Ç—Ä–∏–∫ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
// –°–ª–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ –ø—Ä–æ–±–ª–µ–º–Ω—ã–µ —Ö—É–∫–∏
```

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–æ–µ —Ä–µ—à–µ–Ω–∏–µ**:
```php
// –†–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
class HookLogger {
    
    const LOG_LEVEL_DEBUG = 0;
    const LOG_LEVEL_INFO = 1;
    const LOG_LEVEL_WARNING = 2;
    const LOG_LEVEL_ERROR = 3;
    
    private static $log_level = self::LOG_LEVEL_INFO;
    private static $logs = [];
    
    public static function log($message, $level = self::LOG_LEVEL_INFO, $context = []) {
        if ($level >= self::$log_level) {
            $entry = [
                'timestamp' => date('Y-m-d H:i:s'),
                'level' => $level,
                'message' => $message,
                'context' => $context,
                'trace' => debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 5)
            ];
            
            self::$logs[] = $entry;
            
            // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –≤ –ª–æ–≥ OpenCart
            $registry = Hook::getRegistry();
            if ($registry && $registry->has('log')) {
                $registry->get('log')->write(json_encode($entry));
            }
        }
    }
    
    public static function get_logs($filter = []) {
        $logs = self::$logs;
        
        if (isset($filter['level'])) {
            $logs = array_filter($logs, function($log) use ($filter) {
                return $log['level'] >= $filter['level'];
            });
        }
        
        return $logs;
    }
}
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞**:
- ‚úÖ –î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ –†–∞–∑–Ω—ã–µ —É—Ä–æ–≤–Ω–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
- ‚úÖ –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

**–§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è**: –Ω–æ–≤—ã–π —Ñ–∞–π–ª `hooklogger.php`, `hook.php`

---

### 11. **–í–∞–ª–∏–¥–∞—Ü–∏—è callback-–æ–≤ –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤** (–°–†–ï–î–ù–ò–ô –ü–†–ò–û–†–ò–¢–ï–¢)

**–¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å**: ‚ùå –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è

**–û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã**:
```php
// –ú–æ–∂–Ω–æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–π callback
Hook::add_action('my_action', 'non_existent_function');
// –û—à–∏–±–∫–∞ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –≤—ã–∑–æ–≤–µ —Ö—É–∫–∞
```

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–æ–µ —Ä–µ—à–µ–Ω–∏–µ**:
```php
// –í–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
public static function add_action($hook_name, $callback, $priority = 10, $accepted_args = 1) {
    // –í–∞–ª–∏–¥–∏—Ä—É–µ–º callback
    if (!self::is_valid_callback($callback)) {
        throw new InvalidArgumentException(
            "Invalid callback for hook '$hook_name': " . self::callback_to_string($callback)
        );
    }
    
    // –í–∞–ª–∏–¥–∏—Ä—É–µ–º –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
    if (!is_string($hook_name) || empty($hook_name)) {
        throw new InvalidArgumentException("Hook name must be a non-empty string");
    }
    
    if (!is_int($priority)) {
        throw new InvalidArgumentException("Priority must be an integer");
    }
    
    if (!is_int($accepted_args) || $accepted_args < 0) {
        throw new InvalidArgumentException("Accepted args must be a positive integer");
    }
    
    self::add_hook('action', $hook_name, $callback, $priority, $accepted_args);
}

// –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–∞–ª–∏–¥–Ω–æ—Å—Ç–∏ callback-–∞
private static function is_valid_callback($callback) {
    // –°—Ç—Ä–æ–∫–∏ - —Ñ—É–Ω–∫—Ü–∏–∏
    if (is_string($callback)) {
        return function_exists($callback);
    }
    
    // –ú–∞—Å—Å–∏–≤—ã - –º–µ—Ç–æ–¥—ã –∫–ª–∞—Å—Å–∞
    if (is_array($callback) && count($callback) === 2) {
        list($class, $method) = $callback;
        
        if (is_object($class)) {
            return method_exists($class, $method);
        }
        
        return class_exists($class) && method_exists($class, $method);
    }
    
    // Closure
    if (is_callable($callback)) {
        return true;
    }
    
    return false;
}
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞**:
- ‚úÖ –û—à–∏–±–∫–∏ –≤—ã—è–≤–ª—è—é—Ç—Å—è —Ä–∞–Ω–æ
- ‚úÖ –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ —Ç–∏—Ö–∏—Ö –æ—à–∏–±–æ–∫
- ‚úÖ –õ—É—á—à–µ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

**–§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è**: `hook.php`

---

### 12. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ –ø—Ä–∏–º–µ—Ä—ã –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π** (–í–´–°–û–ö–ò–ô –ü–†–ò–û–†–ò–¢–ï–¢)

**–¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å**: ‚ö†Ô∏è –ë–∞–∑–æ–≤–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

**–û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã**:
```php
// –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∏–º–µ—Ä–æ–≤ —Ä–µ–∞–ª—å–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
// –ù–µ—Ç best practices –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
// –ù–µ—Ç —à–∞–±–ª–æ–Ω–æ–≤ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π
```

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–æ–µ —Ä–µ—à–µ–Ω–∏–µ**:
–°–æ–∑–¥–∞—Ç—å:
1. **DEVELOPMENT_GUIDE.md** - –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
2. **BEST_PRACTICES.md** - Best practices
3. **EXAMPLES/** - –ü–∞–ø–∫–∞ —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏
   - `example_simple_hook.php` - –ü—Ä–æ—Å—Ç–æ–π –ø—Ä–∏–º–µ—Ä
   - `example_advanced_hooks.php` - –ü—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
   - `example_error_handling.php` - –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
   - `example_debugging.php` - –û—Ç–ª–∞–¥–∫–∞
4. **TROUBLESHOOTING.md** - –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

**–§–∞–π–ª—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è**: –Ω–æ–≤—ã–µ —Ñ–∞–π–ª—ã –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞

---

## üìã –ü–õ–ê–ù –†–ï–ê–õ–ò–ó–ê–¶–ò–ò

### –§–∞–∑–∞ 1: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ (v1.5)
**–í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ä–∞–º–∫–∏**: 2-3 –Ω–µ–¥–µ–ª–∏

- [x] **PR-1**: –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–π –≤ hook_boot
- [x] **PR-2**: –°–∏—Å—Ç–µ–º–∞ —É–¥–∞–ª–µ–Ω–∏—è —Ö—É–∫–æ–≤ (remove_action, remove_filter)
- [x] **PR-3**: –í–∞–ª–∏–¥–∞—Ü–∏—è callback-–æ–≤
- [x] **PR-4**: –õ—É—á—à–µ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

### –§–∞–∑–∞ 2: –°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å (v1.8)
**–í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ä–∞–º–∫–∏**: 3-4 –Ω–µ–¥–µ–ª–∏

- [ ] **PR-5**: –°–∏—Å—Ç–µ–º–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –º–µ–∂–¥—É —Ö—É–∫–∞–º–∏
- [ ] **PR-6**: –°–æ–±—ã—Ç–∏—è –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞
- [ ] **PR-7**: –°–∏—Å—Ç–µ–º–∞ —É—Å–ª–æ–≤–Ω–æ–π –∞–∫—Ç–∏–≤–∞—Ü–∏–∏
- [ ] **PR-8**: –£–ª—É—á—à–µ–Ω–Ω–æ–µ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ

### –§–∞–∑–∞ 3: –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å (v2.0)
**–í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ä–∞–º–∫–∏**: 4-5 –Ω–µ–¥–µ–ª—å

- [ ] **PR-9**: API —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ö—É–∫–∞–º–∏
- [ ] **PR-10**: –°–∏—Å—Ç–µ–º–∞ –æ—Ç–ª–∞–¥–∫–∏ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
- [ ] **PR-11**: –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ —Ö—É–∫–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- [ ] **PR-12**: –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ –ø—Ä–∏–º–µ—Ä—ã

---

## üéØ –ú–ï–¢–†–ò–ö–ò –£–°–ü–ï–•–ê

### –¢—Ä–µ–±—É–µ–º—ã–µ —É–ª—É—á—à–µ–Ω–∏—è:

| –ö—Ä–∏—Ç–µ—Ä–∏–π | –¢–µ–∫—É—â–µ–µ | –¶–µ–ª–µ–≤–æ–µ | –°—Ç–∞–Ω–¥–∞—Ä—Ç |
|----------|---------|---------|----------|
| –ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å | 85% | 98%+ | WordPress |
| –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å | 120ms init | <50ms init | WordPress |
| –ü–æ–∫—Ä—ã—Ç–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ | 60% | 100% | WordPress |
| –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ | 40% | 100% | WordPress |
| –ì–∏–±–∫–æ—Å—Ç—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è | 50% | 90% | WordPress |

---

## üîí –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–¨

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –º–µ—Ä—ã:

1. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ API**
```php
if (!$this->user->hasPermission('extension/gdt/hook_manager')) {
    exit('Access denied');
}
```

2. **–°–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö**
```php
$hook_name = preg_replace('/[^a-z0-9_]/', '', $hook_name);
```

3. **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π**
```php
HookLogger::log("Hook modified: $hook_name", 
    HookLogger::LOG_LEVEL_INFO, 
    ['user_id' => $user_id, 'action' => 'remove']
);
```

---

## üìö –†–ï–ö–û–ú–ï–ù–î–£–ï–ú–´–ï –†–ï–°–£–†–°–´

### –î–ª—è –∏–∑—É—á–µ–Ω–∏—è:
- WordPress Hooks API: https://developer.wordpress.org/plugins/hooks/
- PHP SPL Interfaces: https://www.php.net/manual/en/class.splsubject.php
- Observer Pattern: https://refactoring.guru/design-patterns/observer
- OpenCart Architecture: https://docs.opencartdigital.com/

### –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:
- PHPStan - –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑
- PHPUnit - –Æ–Ω–∏—Ç-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- Xdebug - –û—Ç–ª–∞–¥–∫–∞

---

## üö¶ –°–û–í–ú–ï–°–¢–ò–ú–û–°–¢–¨

### –¢–µ–∫—É—â–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞:
- ‚úÖ OpenCart 3.x
- ‚ö†Ô∏è OpenCart 4.x (—Ç—Ä–µ–±—É–µ—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)
- ‚úÖ PHP 7.0+
- ‚úÖ PHP 8.0+
- ‚úÖ PHP 8.1+

### –ü–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π:
- ‚úÖ OpenCart 3.x
- ‚úÖ OpenCart 4.x
- ‚úÖ PHP 7.4+
- ‚úÖ PHP 8.0+
- ‚úÖ PHP 8.1+
- ‚úÖ PHP 8.2+ (–ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è)

---

## üí° –ë–û–ù–£–°–ù–´–ï –ò–î–ï–ò (Future)

1. **GraphQL API –¥–ª—è —Ö—É–∫–æ–≤** - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ GraphQL
2. **Webhook –ø–æ–¥–¥–µ—Ä–∂–∫–∞** - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –≤–Ω–µ—à–Ω–∏–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏
3. **–ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞** - –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ —Ö—É–∫–∏
4. **Machine Learning –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
5. **–û–±–ª–∞—á–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** - –£–¥–∞–ª–µ–Ω–Ω–æ–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ

---

## üìû –ö–û–ù–¢–ê–ö–¢–´ –î–õ–Ø –û–ë–°–£–ñ–î–ï–ù–ò–Ø

**–ê–≤—Ç–æ—Ä –∞–Ω–∞–ª–∏–∑–∞**: GitHub Copilot  
**–ü—Ä–æ–µ–∫—Ç**: GDT Hook System –¥–ª—è OpenCart  
**–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π**: ocm_gdt_hook  
**–í–µ—Ä—Å–∏—è –∞–Ω–∞–ª–∏–∑–∞**: 1.0  
**–î–∞—Ç–∞**: 16 –ª–∏—Å—Ç–æ–ø–∞–¥–∞ 2025

---

## üìù –ó–ê–ö–õ–Æ–ß–ï–ù–ò–ï

–°–∏—Å—Ç–µ–º–∞ GDT Hook –∏–º–µ–µ—Ç **—Ö–æ—Ä–æ—à–∏–π —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç** –∏ –º–æ–∂–µ—Ç —Å—Ç–∞—Ç—å **–æ—Ç–ª–∏—á–Ω–æ–π –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–æ–π OCMOD** –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –º–æ–¥—É–ª–µ–π OpenCart. –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–Ω—ã—Ö **12 —É–ª—É—á—à–µ–Ω–∏–π** –ø–æ–¥–Ω–∏–º–µ—Ç —Å–∏—Å—Ç–µ–º—É –Ω–∞ —É—Ä–æ–≤–µ–Ω—å **WordPress Hook API**, —Å–¥–µ–ª–∞–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π –±–æ–ª–µ–µ —É–¥–æ–±–Ω–æ–π, –±–µ–∑–æ–ø–∞—Å–Ω–æ–π –∏ —Å—Ç–∞–±–∏–ª—å–Ω–æ–π.

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –ù–∞—á–∞—Ç—å —Å —Ñ–∞–∑—ã 1 (–ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ) –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏, –∑–∞—Ç–µ–º –ø–µ—Ä–µ–π—Ç–∏ –∫ –æ—Å—Ç–∞–ª—å–Ω—ã–º —Ñ–∞–∑–∞–º –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏.

**–ü—Ä–æ–≥–Ω–æ–∑**: –ü—Ä–∏ —Å–ª–µ–¥–æ–≤–∞–Ω–∏–∏ –ø–ª–∞–Ω—É —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏, —Å–∏—Å—Ç–µ–º–∞ –¥–æ—Å—Ç–∏–≥–Ω–µ—Ç **v2.0** –∑–∞ **3 –º–µ—Å—è—Ü–∞** —Å –ø–æ–ª–Ω–æ–π —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å—é –∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å—é –∫ production –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é.

---

## üìä –ü–†–ò–õ–û–ñ–ï–ù–ò–ï –ê: –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –¥—Ä—É–≥–∏–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏

### WordPress Hooks vs GDT Hooks vs OCMOD

| –§—É–Ω–∫—Ü–∏—è | WordPress | GDT v1.1 | GDT v2.0 | OCMOD |
|---------|-----------|----------|----------|-------|
| Action —Ö—É–∫–∏ | ‚úÖ | ‚úÖ | ‚úÖ | ‚ùå |
| Filter —Ö—É–∫–∏ | ‚úÖ | ‚úÖ | ‚úÖ | ‚ùå |
| –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã | ‚úÖ | ‚úÖ | ‚úÖ | ‚ùå |
| –£–¥–∞–ª–µ–Ω–∏–µ —Ö—É–∫–æ–≤ | ‚úÖ | ‚ö†Ô∏è | ‚úÖ | ‚ùå |
| –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ | ‚úÖ | ‚ùå | ‚úÖ | ‚ùå |
| API —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è | ‚úÖ | ‚ùå | ‚úÖ | ‚ö†Ô∏è |
| –û—Ç–ª–∞–¥–∫–∞ | ‚úÖ | ‚ùå | ‚úÖ | ‚ùå |
| –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è | ‚úÖ | ‚ö†Ô∏è | ‚úÖ | ‚úÖ |
| –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å | ‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê |

---

**–í–µ—Ä—Å–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞**: 1.0  
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏—é
